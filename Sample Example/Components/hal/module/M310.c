//-------------------------------------------------------------------
// Filename: M310.c
// Description: hal M310 module library ¥ú¾BÂ_°»´ú(DI/DO)
//-------------------------------------------------------------------
//-------------------------------------------------------------------
// INCLUDES
//-------------------------------------------------------------------
#include "hal_mcu.h"
#include "hal_board.h"
#include "hal_digio.h"
#include "hal_timer.h"
#include "M310.h"

//-------------------------------------------------------------------
// LOCAL VARIABLES
//-------------------------------------------------------------------
uint8 udi;

void M310_Init(void);
uint8 M310_GetSensor(void);

//-------------------------------------------------------------------
// LOCAL FUNCTIONS
//-------------------------------------------------------------------
//-------------------------------------------------------------------
void M310_Init(void)
{
    HAL_SEN_1_INPUT();
    HAL_SEN_2_INPUT();

    HAL_LED_1_OUTPUT();
    HAL_LED_2_OUTPUT();
}

//-------------------------------------------------------------------
uint8 M310_GetSensor(void)
{

    HAL_SEN_1_INPUT();
    HAL_SEN_2_INPUT();
    halMcuWaitMs(2);
	udi=0x03;
	if(HAL_SEN_1_DETECT())
		udi&=~(0x01);
	if(HAL_SEN_2_DETECT())
		udi&=~(0x02);
	return udi;
}
